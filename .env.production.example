# ==============================================
# PRODUCTION ENVIRONMENT VARIABLES TEMPLATE
# ==============================================
# 
# This file shows all environment variables needed for production deployment.
# Copy the relevant sections to your deployment platform (Railway/Vercel).
#
# ==============================================

# ----------------------------------------------
# BACKEND SERVICE (Railway)
# ----------------------------------------------

# Node Environment
NODE_ENV=production

# Server Configuration
PORT=3001
HOST=0.0.0.0

# Frontend URL (Set this AFTER deploying frontend to Vercel)
FRONTEND_URL=https://your-app.vercel.app

# MySQL Database Connection
DB_HOST=your-database-host.railway.app
DB_USER=root
DB_PASSWORD=your-database-password
DB_NAME=dibs
DB_PORT=3306

# Session Secret (Generate a strong random string)
SESSION_SECRET=your-super-secret-session-key-here-change-this

# Google Gemini API (for health advice)
GEMINI_API_KEY=your-gemini-api-key

# ----------------------------------------------
# ML SERVICE (Railway)
# ----------------------------------------------

# Node Environment
NODE_ENV=production

# Server Configuration (Railway automatically sets PORT)
PORT=5000
HOST=0.0.0.0

# CORS Configuration (Set this AFTER deploying frontend to Vercel)
ALLOWED_ORIGINS=https://your-app.vercel.app

# Model Path (optional - defaults to ./models/)
MODEL_PATH=./models/

# ----------------------------------------------
# FRONTEND (Vercel)
# ----------------------------------------------

# Backend API URL (Set this AFTER deploying backend to Railway)
VITE_API_URL=https://your-backend-service.up.railway.app/api

# ML Service URL (Set this AFTER deploying ML service to Railway)
VITE_ML_API_URL=https://your-ml-service.up.railway.app

# Firebase Configuration (if using Firebase)
VITE_FIREBASE_API_KEY=your-firebase-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-app.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_FIREBASE_STORAGE_BUCKET=your-app.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abcdef

# ==============================================
# DEPLOYMENT ORDER
# ==============================================
# 
# 1. Deploy Backend to Railway (without FRONTEND_URL first)
# 2. Deploy ML Service to Railway (without ALLOWED_ORIGINS first)
# 3. Note down Railway URLs for both services
# 4. Update frontend/.env.production with Railway URLs
# 5. Deploy Frontend to Vercel
# 6. Update Backend FRONTEND_URL in Railway with Vercel URL
# 7. Update ML Service ALLOWED_ORIGINS in Railway with Vercel URL
# 8. Redeploy Backend and ML Service with updated URLs
#
# ==============================================
