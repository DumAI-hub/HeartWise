# HeartWise – Comprehensive Test Case Table

| TC ID | Category         | Area / Component             | Test Scenario                                                       | Input / Pre‑Condition                                                                                      | Expected Result                                                                                                       |
|------:|------------------|-----------------------------|---------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| TC‑01 | Functional       | HomePage                    | Load home page                                                      | Open `/` in browser                                                                                         | Page loads successfully with HeartWise branding, hero section, navigation links, and visible medical disclaimer.      |
| TC‑02 | Functional       | HomePage                    | Navigate to Login                                                   | Click “Login” / “Sign In” button                                                                           | Browser navigates to `/login`.                                                                                        |
| TC‑03 | Functional       | HomePage                    | Navigate to Assessment form                                         | Click “Start Assessment” / similar primary CTA                                                             | Browser navigates to Input Form page (e.g. `/input-form`).                                                            |
| TC‑04 | Functional       | Signup page                 | Successful registration                                             | New username, valid password, all required fields filled                                                   | New user row created in DB; user sees success message or redirect to Login; can log in with new account.             |
| TC‑05 | Negative         | Signup page                 | Duplicate username                                                  | Username already exists in DB                                                                              | Error message shown (“username already exists”); no new user row created.                                             |
| TC‑06 | Negative         | Signup page                 | Weak / invalid password                                             | Password too short or missing                                                                              | Client‑ and/or server‑side error; account not created.                                                                 |
| TC‑07 | Negative         | Signup page                 | Missing required fields                                             | Leave one or more required fields empty                                                                    | Validation error messages displayed; signup request not accepted.                                                     |
| TC‑08 | Functional       | Login page                  | Successful login                                                    | Existing username and correct password                                                                     | User authenticated; session/token created; redirected to main app (Home or Input Form).                               |
| TC‑09 | Negative         | Login page                  | Wrong password                                                      | Valid username, incorrect password                                                                         | Error message displayed; user remains on Login; no session created.                                                   |
| TC‑10 | Negative         | Login page                  | Non‑existent user                                                   | Username that does not exist                                                                               | Error message displayed; no session created.                                                                           |
| TC‑11 | Security         | Auth protection             | Access protected route without login                                | Open `/history` or `/suggestions` directly in a new session                                                | User is redirected to `/login` or sees “Not authorized”; no sensitive data shown.                                     |
| TC‑12 | Functional       | Logout (if implemented)     | End session                                                         | Logged‑in user clicks “Logout”                                                                             | Session cleared; user redirected to Home or Login; protected routes become inaccessible.                              |
| TC‑13 | Functional       | Input Form (frontend)       | Required‑field validation                                           | Leave required fields (e.g., age, BP) empty; click Submit                                                  | Inline validation messages shown; request not sent to backend.                                                        |
| TC‑14 | Edge             | Input Form (frontend)       | Client‑side numeric bounds                                          | Enter edge values for age, BP, cholesterol, etc.                                                           | Fields enforce min/max where configured; invalid values blocked or clearly warned before submission.                  |
| TC‑15 | Negative         | Input Form (frontend)       | Invalid types                                                       | Enter text where numeric values are expected                                                               | Field shows error; form not submitted until corrected.                                                                 |
| TC‑16 | Functional       | Input Form → Backend        | Standard assessment submission (happy path)                         | All fields valid; user logged in (if required)                                                             | Backend returns HTTP 200 with risk label, probability, advice, and meta; UI shows results in result card(s).          |
| TC‑17 | Edge             | Input Form / Backend        | High‑risk scenario                                                  | Provide clinically high‑risk values (e.g., very high BP, smoker, etc.)                                    | Prediction classified as “High risk” (or equivalent) with high probability; UI clearly highlights risk.               |
| TC‑18 | Edge             | Input Form / Backend        | Low‑risk scenario                                                   | Provide clearly low‑risk values                                                                            | Prediction classified as “Low risk” with lower probability; UI reflects low risk.                                     |
| TC‑19 | Edge             | Input Form / Backend        | Moderate‑risk scenario                                              | Provide intermediate‑risk values                                                                           | Prediction classified as moderate; thresholds behave as designed.                                                     |
| TC‑20 | Negative         | Backend `/api/predict`      | Missing field in request body                                       | Send JSON without a required feature                                                                       | Backend returns 4xx error with informative message; ML service is not invoked.                                        |
| TC‑21 | Negative         | Backend `/api/predict`      | Wrong data type                                                     | Send string instead of number for numeric field                                                            | Backend responds 4xx; validation error clearly indicates problem.                                                     |
| TC‑22 | Edge             | Backend `/api/predict`      | Minimum allowed values                                              | Send request with minimum configured age/BP values                                                         | Request accepted; prediction generated; no validation failure for allowed minimums.                                   |
| TC‑23 | Edge             | Backend `/api/predict`      | Maximum allowed values                                              | Send request with maximum configured age/BP values                                                         | Request accepted; prediction generated; no validation failure for allowed maximums.                                   |
| TC‑24 | Integration      | Backend ↔ ML Service        | ML service happy path                                               | Valid prediction request from backend to FastAPI                                                           | FastAPI returns 200 with probability and risk label; backend forwards to frontend unchanged (plus extra fields).      |
| TC‑25 | Negative         | Backend ↔ ML Service        | ML service unavailable                                              | Stop ML service or change its URL; call `/api/predict` from frontend                                      | Backend handles error gracefully (5xx/custom), logs issue, returns friendly error; frontend shows error card.         |
| TC‑26 | Functional       | ML Service `/predict`       | Pydantic schema validation                                          | Direct call with missing or wrong‑type fields                                                             | FastAPI returns 422 with validation details; no model execution.                                                       |
| TC‑27 | Functional       | ML Service `/predict`       | Probability‑to‑label mapping                                        | Send inputs targeting low, moderate, high probability bins                                                | Returned labels match configured thresholds for each case.                                                             |
| TC‑28 | Functional       | LLM Client (Gemini)         | Successful advice generation                                        | Valid Gemini API key; normal prediction completes                                                         | Advice text generated based on risk; standardized disclaimer automatically appended; advice stored in DB.             |
| TC‑29 | Negative         | LLM Client (Gemini)         | Gemini 503 / overloaded                                             | Simulate or observe 503 error from Gemini                                                                 | Backend logs error; fallback rule‑based advice generated with disclaimer; no crash; user still sees guidance.         |
| TC‑30 | Negative         | LLM Client (Gemini)         | Missing / invalid API key                                           | Remove or corrupt Gemini API key env var                                                                  | External call skipped or fails gracefully; fallback advice produced; clear log entry about missing key.               |
| TC‑31 | Functional       | LLM Client                  | Numeric conversions and formatting                                  | Advice generation when BMI, BP, etc. stored as strings in DB                                             | `.toFixed` or similar operations do not throw; numbers formatted correctly in advice.                                 |
| TC‑32 | Functional       | History page                | View history with existing records                                  | Logged‑in user with several past assessments saved                                                        | History lists records ordered by date; each entry shows at least date, risk label, and key vitals.                    |
| TC‑33 | Negative         | History page                | No history available                                                | Newly registered user with zero assessments                                                               | Friendly empty‑state message encouraging user to complete an assessment; no errors.                                   |
| TC‑34 | Security         | History page                | Attempt to view another user’s history                             | Manipulate request parameters (e.g., user ID) to point to a different user                               | Backend ignores tampered ID and uses session user ID only; other users’ data is never returned.                       |
| TC‑35 | Functional       | Suggestions page            | View advice for selected record                                     | User with at least one record containing stored advice                                                    | Left pane lists assessments; selecting one updates right pane with risk, probability, and advice text.                |
| TC‑36 | Negative         | Suggestions page            | Record without advice                                               | Assessment row exists without advice_text (older or failed LLM)                                          | UI handles gracefully: message like “No AI advice available for this record” instead of blank or crashing.            |
| TC‑37 | Functional       | Profile page (if present)   | View profile details                                                | Logged‑in user                                                                                            | Profile shows non‑sensitive user information (e.g., username, email if stored) but not passwords or hashes.          |
| TC‑38 | Security         | Backend auth                | Call prediction endpoint without valid session/token               | Directly call `/api/predict` via tool without authentication                                             | Request rejected with 401/403; no prediction performed; no PII leaked.                                                |
| TC‑39 | Security         | Backend / DB                | SQL injection attempt                                               | Submit malicious strings into text fields (username, other free‑text)                                    | Login/signup still behave normally; no extra data returned; DB integrity preserved.                                   |
| TC‑40 | Security         | Frontend / Routing          | Directly access SPA route after logout                              | Log out; manually navigate to `/history` or `/suggestions`                                               | App detects missing session and redirects to Login.                                                                    |
| TC‑41 | Performance      | End‑to‑end predictions      | Concurrent prediction requests                                      | Use script to send many `/api/predict` requests in parallel                                              | System remains responsive; error rate low; no process crashes or unbounded memory growth.                             |
| TC‑42 | Performance      | ML Service                  | Startup time and first request latency                              | Restart ML service; send first `/predict` right after startup                                            | Models load successfully; first response within acceptable latency; subsequent responses remain fast.                 |
| TC‑43 | Performance      | Database                    | History query under load                                            | User with many assessments; repeatedly open History page                                                 | Response times remain within acceptable range; no DB timeouts or connection exhaustion.                               |
| TC‑44 | Reliability      | Service restart behaviour   | Restart backend and/or ML while UI is open                          | Keep SPA open; restart backend and ML services; then submit new prediction                               | Old requests may fail once with clear error; subsequent submissions succeed without requiring manual page reload.     |
| TC‑45 | Data Integrity   | Prediction + advice storage | Verify DB contents for a single assessment                          | Complete an assessment; query corresponding DB row                                                       | Row contains raw inputs, engineered features (e.g., BMI), model probability, risk label, advice text, timestamps.     |
| TC‑46 | Data Integrity   | User–prediction linkage     | Ensure assessments are tied to the correct user                     | Two different users perform assessments                                                                   | Each user’s history only shows their own records; DB foreign keys correctly reference user table.                     |
| TC‑47 | UX / Accessibility | Input Form                | Keyboard‑only navigation                                            | Use only keyboard (Tab/Shift+Tab/Enter/Space) on Input Form                                              | All inputs reachable; focus indicators visible; form can be submitted without mouse.                                  |
| TC‑48 | UX / Accessibility | All main pages            | Screen‑reader behaviour                                             | Use screen reader (VoiceOver/NVDA) on Home, Input Form, History, Suggestions                             | Headings logical; labels correctly associated; dynamic results announced in sensible order.                           |
| TC‑49 | UX               | Disclaimers                 | Medical and AI disclaimers visibility                               | Visit Home, Input Form, Suggestions                                                                      | Disclaimers are visible, readable, and clearly state that HeartWise is a pre‑screening tool, not medical advice.      |
| TC‑50 | UX               | Risk colour coding          | Visual clarity of risk levels                                       | Trigger low, moderate, and high‑risk predictions                                                         | Colours and labels for each risk level are consistent and distinguishable (e.g., green/amber/red).                    |
| TC‑51 | UX               | Responsiveness              | Layout on mobile screen width                                       | Open app on small‑screen device or narrow browser                                                        | Layout adapts; no horizontal scroll needed for main content; forms and buttons remain comfortably tappable.           |
| TC‑52 | Error Handling   | Frontend global errors      | Backend / ML temporary failure                                      | Simulate backend or ML outage while submitting prediction                                                | User sees clear error message/card; page does not freeze; user can retry later.                                       |
| TC‑53 | Error Handling   | Logging                     | Check logs for major flows                                          | Perform login, prediction, Gemini failure, and history retrieval                                         | Logs contain meaningful, non‑sensitive entries for each flow and error; no PII or secrets logged.                     |
